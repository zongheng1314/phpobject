<!doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>{$meta_title}｜{:C('WEB_SITE_TITLE')}后台管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="author" content="XinHaiThink">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="generator" content="CoreThink">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="XinHaiThink">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <link rel="apple-touch-icon" type="image/x-icon" href="__ROOT__/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="__ROOT__/favicon.ico">
    <link rel="stylesheet" type="text/css" href="__CUI__/css/cui.min.css">
    <link rel="stylesheet" type="text/css" href="__ADMIN_CSS__/admin.css?v={:C('STATIC_VERSION')}">
    <link rel="stylesheet" type="text/css" href="__ADMIN_CSS__/theme/{:C('ADMIN_THEME')}.css">
    
    <!--[if lt IE 9]>
         <script src="/Public/cdn_js/html5.min.js"></script>
        <script src="/Public/cdn_js/respond.min.js"></script>
    <![endif]-->
    <!-- 如果配置里CDN静态资源列表则使用CDN否则使用静态资源 -->
            <script type="text/javascript" src="__PUBLIC__/libs/jquery/1.x/jquery.min.js"></script>
    </head>

<body>
    <div class="clearfix full-header">
        
    </div>

    <div class="clearfix full-container">
        
    <link rel="stylesheet" type="text/css" href="/Public/libs/cui/css/cui.extend.min.css">
<style type="text/css">
    .builder {
        background: #fff;
    }
    .builder .builder-tabs,
    .builder .builder-toolbar,
    .builder .builder-container {
        margin-bottom: 20px;
    }
    .builder .builder-container .builder-data-empty {
        margin-bottom: 20px;
        background-color: #f9f9f9;
    }
    .builder .builder-container .builder-data-empty .empty-info {
        padding: 130px 0;
        color: #555;
    }
    .builder .builder-container .builder-table .panel {
        margin-bottom: 0px;
    }
    .builder .builder-container .builder-table .panel .table td {
        max-width: 600px;
        vertical-align: middle;
    }
    .builder .builder-container .builder-table .panel .table td img {
        max-width: 200px;
        max-height: 40px;
    }
    .builder .builder-container .pagination {
        margin-bottom: 0px;
    }
    .builder-form-box .builder-form.form-horizontal .tab-content .form-group {
        margin: 15px 0;
    }
    @media (max-width: 768px) {
        .row,
        .container-fluid {
            padding: 0;
            margin: 0;
        }
        .builder-list-toolbar .button-list .btn {
            margin-bottom: 15px;
        }
    }
    @media (min-width: 768px) {
        .builder-form-box .builder-form.form-horizontal {
            padding: 0 15px;
        }
        .builder-form-box .builder-form.form-horizontal .control-label {
            text-align: left;
        }
        .builder-form-box .builder-form.form-horizontal .left {
            width: 15%;
            float: left;
        }
        .builder-form-box .builder-form.form-horizontal .right {
            width: 85%;
            float: left;
        }
        .builder-form-box .builder-form-container .builder-form .input,
        .builder-form-box .builder-form-container .builder-form .select,
        .builder-form-box .builder-form-container .builder-form .textarea,
        .builder-form-box .builder-form-container .builder-form .list-group {
            width: 70%;
        }
        .builder-form-box .builder-form .submit,
        .builder-form-box .builder-form .return {
            min-width: 120px;
        }
    }
    @media (min-width: 992px) {
        .builder-form-box .builder-form.form-horizontal .left {
            width: 12%;
            float: left;
        }
        .builder-form-box .builder-form.form-horizontal .right {
            width: 88%;
            float: left;
        }
    }
    .builder-form-box .img-box .remove-picture {
        color: red;
        position: absolute;
        top: 0;
        right: 2px;
        background: #fff;
        border-radius: 20px;
        cursor: pointer;
    }
    .builder-form-box .img-box .remove-picture:hover {
        color: #DD0000;
        box-shadow: inset 0 1px 1px red, 0 0 8px red;
    }
    .builder-form-box .file-box .remove-file {
        color: red;
        position: absolute;
        top: 12px;
        right: 10px;
        border-radius: 20px;
        cursor: pointer;
    }
    .builder-form-box .file-box .remove-file:hover {
        color: #DD0000;
        box-shadow: inset 0 1px 1px red, 0 0 8px red;
    }
    .builder-form-box .board_list .board {
        padding: 0px;
        margin-right: 10px;
    }
    .attr_values tr{
		height:40px; line-height:40px;    	
    }
</style>

<div class="builder builder-form-box panel-body">
    
    
    <div class="builder-container builder-form-container">
        <div class="row">
            <div class="col-xs-12">
                <form action="{:U('attribute_add')}" method="post" class="form-horizontal form builder-form">
				    <input type="hidden" name="type_id" value="{$Think.GET.type_id}">
				    <div class="form-group item_department_name ">
				        <label class="left control-label">属性类别：</label>
				        <div class="right">
				            <input type="text" class="form-control input text" name="attr_name" value="" >
				            <span class="check-tips text-muted small">属性类别</span>        </div>
				    </div>  
				    <div class="form-group item_department_name ">
				        <label class="left control-label">分类排序：</label>
				        <div class="right">
				            <input type="text" class="form-control input text" name="attr_sort" value="" >
				            <span class="check-tips text-muted small">分类排序</span>        </div>
				    </div>    
				    <div class="form-group item_department_name ">
				        <label class="left control-label">是否显示：</label>
				        <div class="right">
				           <select name="attr_show" class="form-control select custom-select" style="width:180px;">
                               	<option value="1">是</option>
                               	<option value="2">否</option>
                           </select>
				        </div>
				    </div> 
<!--				    <div class="form-group item_department_name">-->
<!--				        <label class="left control-label">属性值：</label>-->
<!--				        <div class="right">-->
<!--				          <a href="javascriopt:value(0)" onclick="add_AttrValue()">添加</a>-->
<!--				        </div>-->
<!--				    </div>-->
				    <div class="form-group item_department_name">
				        <label class="left control-label">属性值：</label>
				        <div class="right">
				          <table id="attr_values" class="attr_values">
				          	<tr>
				          		<th width="250">属性值</th>
				          		<th width="100">排序</th>
				          		<th width="150">操作</th>
				          	</tr>
				          	<tr>
				          		<td>
				          			 <input type="text" class="form-control input text" name="value[]" value="" >
				          		</td>
				          		<td>
				          			 <input type="text" class="form-control input text" name="sort[]" value="0" >
				          		</td>
				          		<td onClick='getDel(this)'>
				          			 <a href="javascriopt:value(0)">删除</a>
				          		</td>
				          	</tr>
				          </table>
				          <a href="javascriopt:value(0)" onclick="add_AttrValue()">添加</a>
				        </div>
				    </div>                                     
				    <div class="form-group">
                        <button class="btn btn-primary btn-block submit ajax-post visible-xs visible-sm" type="submit" target-form="builder-form">确定</button>
                        <button class="btn btn-primary submit ajax-post visible-md-inline visible-lg-inline" type="submit" target-form="builder-form">确定</button>
                        <button class="btn btn-default return visible-md-inline visible-lg-inline" onclick="javascript:history.back(-1);return false;">返回</button>
                    </div>
                </form>
                <input id="add_AttrValue" type="hidden" value="2">
                <script>
                	//增加子分类
                	function add_AttrValue(){
                		$('#attr_values').append('<tr><td><input type="text" class="form-control input text" name="value[]" value="" ></td><td><input type="text" class="form-control input text" name="sort[]" value="0" ></td><td  onClick="getDel(this)"><a href="javascriopt:value(0)">删除</a></td></tr>');                		
                	}
                	
                	function getDel(k){
                	    $(k).parent().remove();     
                	}
                	
                </script>
            </div>
        </div>
    </div>

    
    </div>

<script type="text/javascript" src="/Public/libs/cui/js/cui.extend.min.js"></script>
<script type="text/javascript">

    $(function() {
        if (!$('.builder')) {
            return false;
        }

        //给数组增加查找指定的元素索引方法
        Array.prototype.indexOf = function(val) {
            for (var i = 0; i < this.length; i++) {
                if (this[i] == val) return i;
            }
            return -1;
        };

        //给数组增加删除方法
        Array.prototype.remove = function(val) {
            var index = this.indexOf(val);
            if (index > -1) {
                this.splice(index, 1);
            }
        };
    });
</script>



    </div>

    <div class="clearfix full-footer">
        
    </div>

    <div class="clearfix full-script">
        <div class="container-fluid">
            <input type="hidden" id="corethink_home_img" value="/./Application/Home/View/Public/img">
            <script type="text/javascript" src="/Public/libs/cui/js/cui.min.js"></script>
            <script type="text/javascript" src="/./Application/Admin/View/Public/js/admin.js?v=20150903"></script>
            
        </div>
    </div>
</body>
</html>